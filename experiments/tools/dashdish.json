{
  "description": "",
  "tools": [
    {
      "name": "goto_restaurants_list",
      "title": "Goto Restaurants List",
      "description": "Navigates to the restaurants list by clicking the Home button.",
      "input_schema": {
        "type": "object",
        "properties": {},
        "required": []
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether the navigation to the restaurants list was successful."
          }
        },
        "required": [
          "success"
        ]
      },
      "tool_executor_type": "smcp",
      "lang": "js",
      "is_ready": "const homeBtn = Array.from(document.querySelectorAll('[role=button]')).find(el => el.textContent.trim()==='Home'); return homeBtn ? true : [false, 'Home button not found'];",
      "is_completed": "return document.querySelector('h6, h6[level=\"6\"]') ? true : [false, 'No restaurant cards found on list page'];",
      "execute": "const homeBtn = Array.from(document.querySelectorAll('[role=button]')).find(el => el.textContent.trim()==='Home'); if(homeBtn){homeBtn.click(); return {success:true};} return {success:false};",
      "pre_path": "https://real-dashdish-1rmq4pjxg-real-sites.vercel.app/*",
      "pre": {},
      "post": {
        "page": "list",
        "selectedRestaurant": null,
        "selectedCategory": null
      },
      "type": "gotoItem"
    },
    {
      "name": "list_restaurant_categories",
      "title": "List Restaurant Categories",
      "description": "Lists all available restaurant categories (including section names like 'Best Near Me') that can be filtered using filter_restaurants_by_category.",
      "input_schema": {
        "type": "object",
        "properties": {},
        "required": []
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "description": "Array of category objects. Each object has a 'category' key with the category name as a string value.",
            "items": {
              "type": "object",
              "properties": {
                "category": {
                  "type": "string",
                  "description": "The category name (e.g., 'Ramen', 'Best Near Me')"
                }
              },
              "required": ["category"]
            }
          }
        },
        "required": [
          "items"
        ]
      },
      "tool_executor_type": "smcp",
      "lang": "js",
      "is_ready": "const cats = Array.from(document.querySelectorAll('p')).filter(p => [\"Ramen\",\"Breakfast\",\"Fast Food\",\"Coffee\",\"Pizza\",\"Chinese\",\"Bakery\",\"Indian\",\"Mexican\",\"Smoothie\",\"Chicken\",\"Vegan\",\"Asian\",\"Thai\",\"Burgers\",\"Healthy\",\"Soup\",\"Sushi\",\"Desserts\"].includes(p.textContent.trim())); const headers = Array.from(document.querySelectorAll('button')).filter(btn => btn.textContent.trim().endsWith('See all')); return (cats.length > 0 || headers.length > 0) ? true : [false, 'No category or section elements found'];",
      "is_completed": "return true;",
      "execute": "const categories = Array.from(document.querySelectorAll('p')).filter(p => [\"Ramen\",\"Breakfast\",\"Fast Food\",\"Coffee\",\"Pizza\",\"Chinese\",\"Bakery\",\"Indian\",\"Mexican\",\"Smoothie\",\"Chicken\",\"Vegan\",\"Asian\",\"Thai\",\"Burgers\",\"Healthy\",\"Soup\",\"Sushi\",\"Desserts\"].includes(p.textContent.trim())).map(p => ({category: p.textContent.trim()})); const headers = Array.from(document.querySelectorAll('button')).filter(btn => btn.textContent.trim().endsWith('See all')).map(btn => ({category: btn.parentElement.previousSibling ? btn.parentElement.previousSibling.textContent.trim() : ''})); return {items: [...categories, ...headers]};",
      "pre_path": "https://real-dashdish-1rmq4pjxg-real-sites.vercel.app/*",
      "pre": {
        "page": "list"
      },
      "post": {},
      "type": "listItems"
    },
    {
      "name": "get_restaurant_details",
      "title": "Get Restaurant Details",
      "description": "Retrieves the restaurant's name, star rating, number of reviews, and menu items with their prices from the current page.",
      "input_schema": {
        "type": "object",
        "properties": {},
        "required": []
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "description": "The name of the restaurant."
                },
                "star_rating": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "description": "The star rating of the restaurant as a string (e.g., '4.5')."
                },
                "num_reviews": {
                  "type": [
                    "number",
                    "null"
                  ],
                  "description": "The number of reviews for the restaurant."
                },
                "menu_items": {
                  "type": "array",
                  "description": "A list of menu items with their names and prices.",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": [
                          "string",
                          "null"
                        ],
                        "description": "The name of the menu item."
                      },
                      "price": {
                        "type": [
                          "string",
                          "null"
                        ],
                        "description": "The price of the menu item as displayed."
                      }
                    },
                    "required": [
                      "name",
                      "price"
                    ]
                  }
                }
              },
              "required": [
                "name",
                "star_rating",
                "num_reviews",
                "menu_items"
              ]
            }
          }
        },
        "required": [
          "items"
        ]
      },
      "tool_executor_type": "smcp",
      "lang": "js",
      "is_ready": "return document.querySelector('h3.MuiTypography-root.MuiTypography-h3.css-14rhbiz') ? true : [false,'Restaurant name not found'];",
      "is_completed": "return document.querySelector('h3.MuiTypography-root.MuiTypography-h3.css-14rhbiz') ? true : [false,'Restaurant detail not loaded'];",
      "execute": "const name = document.querySelector('h3.MuiTypography-root.MuiTypography-h3.css-14rhbiz')?.textContent.trim() || null;\nconst star_rating = document.querySelector('div.css-8v90jo > div.css-1qrevxv > p.MuiTypography-root.MuiTypography-body1.css-1blxmo9')?.textContent.trim() || null;\nlet num_reviews = null;\nconst numReviewsText = document.querySelector('#reviews-section h6 + p.MuiTypography-root.MuiTypography-body2.css-ph0okg')?.textContent.trim();\nif (numReviewsText) {\n  const match = numReviewsText.match(/\\d+/);\n  if (match) num_reviews = parseInt(match[0], 10);\n}\nconst menu_items = Array.from(document.querySelectorAll('#full-menu-section .MuiGrid-item .MuiCard-root.css-bcl9hc')).map(card => {\n  const item_name = card.querySelector('h6.MuiTypography-root.MuiTypography-subtitle2.css-1qgl93o')?.textContent.trim();\n  const price_text = card.querySelector('p.MuiTypography-root.MuiTypography-body2.css-tcdgpw')?.textContent.trim();\n  return { name: item_name, price: price_text };\n});\nreturn {items: [{name, star_rating, num_reviews, menu_items}]};",
      "pre_path": "https://real-dashdish-1rmq4pjxg-real-sites.vercel.app/*",
      "pre": {
        "page": "detail"
      },
      "post": {},
      "type": "getFields"
    },
    {
      "name": "goto_restaurant_detail",
      "title": "Goto Restaurant Detail",
      "description": "Navigates to the detail page of a specified restaurant by its name.",
      "input_schema": {
        "type": "object",
        "properties": {
          "restaurantName": {
            "type": "string",
            "description": "The exact name of the restaurant to view details for."
          }
        },
        "required": [
          "restaurantName"
        ]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether navigation to the restaurant detail page was successful."
          }
        },
        "required": [
          "success"
        ]
      },
      "tool_executor_type": "smcp",
      "lang": "js",
      "is_ready": "function norm(s){return (s||'').trim().toLowerCase();} const target = norm(inputs.restaurantName); const cards = Array.from(document.querySelectorAll('.MuiBox-root.css-mro3c9')); let found = false; for(const card of cards){ const h6 = card.querySelector('h6.MuiTypography-root.MuiTypography-subtitle1.css-1rej1nr'); if(h6 && norm(h6.textContent)===target){ found = true; break; } } return found ? true : [false, `No clickable card found for ${inputs.restaurantName}`];",
      "is_completed": "function norm(s){return (s||'').trim().toLowerCase();} const h3 = document.querySelector('h3'); return h3 && norm(h3.textContent).includes(norm(inputs.restaurantName)) ? true : [false, 'Detail page not loaded or wrong restaurant'];",
      "execute": "function norm(s){return (s||'').trim().toLowerCase();}\nconst target = norm(inputs.restaurantName);\nconst cards = Array.from(document.querySelectorAll('.MuiBox-root.css-mro3c9'));\nfor(const card of cards){\n  const h6 = card.querySelector('h6.MuiTypography-root.MuiTypography-subtitle1.css-1rej1nr');\n  if(!h6 || norm(h6.textContent)!==target) continue;\n  // Find the nearest clickable ancestor\n  const clickable = h6.closest('a, [role=button], button, .MuiCard-root, .MuiStack-root, .MuiBox-root');\n  if(clickable){\n    clickable.click();\n    return {success:true};\n  }\n  // Fallback: click the card itself\n  card.click();\n  return {success:true};\n}\nreturn {success:false};",
      "pre_path": "https://real-dashdish-1rmq4pjxg-real-sites.vercel.app/*",
      "pre": {
        "page": "list"
      },
      "post": {
        "page": "detail",
        "selectedRestaurant": "$restaurantName"
      },
      "type": "gotoItem"
    },
    {
      "name": "filter_restaurants_by_category",
      "title": "Filter Restaurants By Category",
      "description": "Sets the restaurant category filter by clicking the button matching the given category name.",
      "input_schema": {
        "type": "object",
        "properties": {
          "categoryName": {
            "type": "string",
            "description": "The name of the restaurant category to select."
          }
        },
        "required": [
          "categoryName"
        ]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether the category was successfully selected."
          },
          "selectedCategory": {
            "type": "string",
            "description": "The name of the selected category, if successful."
          },
          "error": {
            "type": "string",
            "description": "Error message if the category was not found."
          }
        },
        "required": [
          "success"
        ]
      },
      "tool_executor_type": "smcp",
      "lang": "js",
      "is_ready": "return typeof inputs.categoryName === 'string' && inputs.categoryName.length > 0 ? true : [false, 'categoryName input required'];",
      "is_completed": "return true;",
      "execute": "const categoryName = inputs.categoryName;\n// 1. Find all visible category buttons\nconst catButtons = Array.from(document.querySelectorAll('p')).filter(p => p.textContent.trim().toLowerCase() === categoryName.trim().toLowerCase());\nif (catButtons.length > 0) {\n  // Click the first matching button\n  catButtons[0].click();\n  return {success: true, selectedCategory: categoryName};\n}\nreturn {success: false, error: 'Category not found'};",
      "pre_path": "https://real-dashdish-1rmq4pjxg-real-sites.vercel.app/*",
      "pre": {},
      "post": {
        "selectedCategory": "$categoryName"
      },
      "type": "setFilter"
    },
    {
      "name": "observe_dashdish",
      "title": "Observe DashDish",
      "description": "Observes the current site page and extracts the page type, selected restaurant name, and selected category if available.",
      "input_schema": {
        "type": "object",
        "properties": {},
        "required": []
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "page": {
            "type": "string",
            "description": "Type of the current page: 'list', 'detail', or 'other'.",
            "enum": [
              "list",
              "detail",
              "other"
            ]
          },
          "selectedRestaurant": {
            "type": [
              "string",
              "null"
            ],
            "description": "The name of the selected restaurant if on a detail page, otherwise null."
          },
          "selectedCategory": {
            "type": [
              "string",
              "null"
            ],
            "description": "The name of the currently selected category if available, otherwise null."
          }
        },
        "required": [
          "page",
          "selectedRestaurant",
          "selectedCategory"
        ]
      },
      "tool_executor_type": "smcp",
      "lang": "js",
      "is_ready": "return !!document.body;",
      "is_completed": "return true;",
      "execute": "const pathname = window.location.pathname;\nlet page = 'other', selectedRestaurant = null, selectedCategory = null;\nif (pathname === '/' || pathname === '/restaurants') {\n  page = 'list';\n  // Try to find active/selected category in carousel\n  const activeCat = document.querySelector('.slick-slide[aria-hidden=\"false\"] .css-1yifpib');\n  if (activeCat) {\n    selectedCategory = activeCat.textContent.trim();\n  } else {\n    // Try to find section header if on See all page\n    const seeAllHeader = document.querySelector('.css-5ax1kt .css-1yifpib');\n    if (seeAllHeader) {\n      selectedCategory = seeAllHeader.textContent.trim();\n    }\n  }\n} else {\n  // Check if we're on a detail page by looking for restaurant name in h3\n  const nameElem = document.querySelector('h3.MuiTypography-root.MuiTypography-h3.css-14rhbiz');\n  if (nameElem) {\n    page = 'detail';\n    selectedRestaurant = nameElem.textContent.trim();\n    // Try to find section/category header on detail page\n    const detailHeader = document.querySelector('.css-5ax1kt .css-1yifpib');\n    if (detailHeader) {\n      selectedCategory = detailHeader.textContent.trim();\n    }\n  }\n}\nreturn {page, selectedRestaurant, selectedCategory};",
      "pre_path": "https://real-dashdish-1rmq4pjxg-real-sites.vercel.app/*",
      "pre": {},
      "post": {},
      "type": "observe"
    },
    {
      "name": "list_restaurants",
      "title": "List Restaurants",
      "description": "Lists all restaurants displayed on the page with their names.",
      "input_schema": {
        "type": "object",
        "properties": {},
        "required": []
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Name of the restaurant."
                }
              },
              "required": [
                "name"
              ]
            },
            "description": "Array of restaurant objects."
          }
        },
        "required": [
          "items"
        ]
      },
      "tool_executor_type": "smcp",
      "lang": "js",
      "is_ready": "const cards = document.querySelectorAll('.MuiBox-root.css-mro3c9'); return cards.length > 0 ? true : [false, 'No restaurant cards found'];",
      "is_completed": "return Array.isArray(output.items) && output.items.length > 0 && output.items.every(item => item.name);",
      "execute": "const cards = document.querySelectorAll('.MuiBox-root.css-mro3c9');\nconst items = Array.from(cards).map((card) => {\n  const nameElem = card.querySelector('h6.MuiTypography-root.MuiTypography-subtitle1.css-1rej1nr');\n  const name = nameElem ? nameElem.textContent.trim() : '';\n  return { name };\n});\nreturn {items};",
      "pre_path": "https://real-dashdish-1rmq4pjxg-real-sites.vercel.app/*",
      "pre": {
        "page": "list"
      },
      "post": {
        "page": "list"
      },
      "type": "listItems"
    }
  ],
  "is_ready_timeout_ms": 30000
}